!function(e){function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i){function t(e,i,t){for(var n,r=[],a=Math.ceil(i/e.columns),o=0;o<a;o++)for(var s=0;s<e.columns;s++)n=[0,0,0],0===e.plane.indexOf("x")&&(n[0]=s*e.margin),0===e.plane.indexOf("y")&&(n[1]=s*e.margin),1===e.plane.indexOf("y")&&(n[1]=o*e.margin),1===e.plane.indexOf("z")&&(n[2]=o*e.margin),r.push(n);return r}function n(e,i,t){for(var n=[],r=0;r<i;r++){var a;a=isNaN(e.angle)?r*(2*Math.PI)/i:r*e.angle*.01745329252;var o=[t.x,t.y,t.z];0===e.plane.indexOf("x")&&(o[0]+=e.radius*Math.cos(a)),0===e.plane.indexOf("y")&&(o[1]+=e.radius*Math.cos(a)),1===e.plane.indexOf("y")&&(o[1]+=e.radius*Math.sin(a)),1===e.plane.indexOf("z")&&(o[2]+=e.radius*Math.sin(a)),n.push(o)}return n}function r(e,i,n){return e.columns=i,t(e,i,n)}function a(e,i,t){return d([[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],t,e.radius/2)}function o(e,i,t){var n=(1+Math.sqrt(5))/2,r=1/n,a=2-n,o=-1*r,s=-1*a;return d([[-1,a,0],[-1,s,0],[0,-1,a],[0,-1,s],[0,1,a],[0,1,s],[1,a,0],[1,s,0],[r,r,r],[r,r,o],[r,o,r],[r,o,o],[a,0,1],[a,0,-1],[o,r,r],[o,r,o],[o,o,r],[o,o,o],[s,0,1],[s,0,-1]],t,e.radius/2)}function s(e,i,t){var n=Math.sqrt(3),r=-1/Math.sqrt(3),a=2*Math.sqrt(2/3);return d([[0,0,n+r],[-1,0,r],[1,0,r],[0,a,0]],t,e.radius/2)}function d(e,i,t){return i=[i.x,i.y,i.z],e.map(function(e){return e.map(function(e,n){return e*t+i[n]})})}function l(e,i){e.forEach(function(e,t){var n=i[t];e.setAttribute("position",{x:n[0],y:n[1],z:n[2]})})}AFRAME.registerComponent("layout",{schema:{angle:{type:"number",default:!1,min:0,max:360,if:{type:["circle"]}},columns:{default:1,min:0,if:{type:["box"]}},margin:{default:1,min:0,if:{type:["box","line"]}},plane:{default:"xy"},radius:{default:1,min:0,if:{type:["circle","cube","dodecahedron","pyramid"]}},reverse:{default:!1},type:{default:"line",oneOf:["box","circle","cube","dodecahedron","line","pyramid"]},fill:{default:!0,if:{type:["circle"]}}},init:function(){var e=this,i=this.el;this.children=i.getChildEntities(),this.initialPositions=[],this.children.forEach(function(i){function t(){var t=i.getAttribute("position");e.initialPositions.push([t.x,t.y,t.z])}return i.hasLoaded?t():void i.addEventListener("loaded",t)}),i.addEventListener("child-attached",function(t){t.detail.el.parentNode===i&&(e.children.push(t.detail.el),e.update())}),i.addEventListener("child-detached",function(i){e.children.indexOf(i.detail.el)!==-1&&(e.children.splice(e.children.indexOf(i.detail.el),1),e.initialPositions.splice(e.children.indexOf(i.detail.el),1),e.update())})},update:function(e){var i,d,c=this.children,u=this.data,f=this.el,h=c.length,p=f.getAttribute("position");switch(u.type){case"box":i=t;break;case"circle":i=n;break;case"cube":i=a;break;case"dodecahedron":i=o;break;case"pyramid":i=s;break;default:i=r}d=i(u,h,p),u.reverse&&d.reverse(),l(c,d)},remove:function(){this.el.removeEventListener("child-attached",this.childAttachedCallback),l(this.children,this.initialPositions)}}),e.exports.getBoxPositions=t,e.exports.getCirclePositions=n,e.exports.getLinePositions=r,e.exports.getCubePositions=a,e.exports.getDodecahedronPositions=o,e.exports.getPyramidPositions=s}]);